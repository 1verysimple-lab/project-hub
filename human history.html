<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="An interactive deep-time timeline of human history, exploring the evolution of energy, information, and society from the Hadean Eon to Generation Alpha.">
    <meta name="keywords" content="history, timeline, anthropology, sociology, evolution, homo sapiens, interactive, education">
    <title>Human History</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Scripts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Config -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Base Styles -->
    <style>
        body { font-family: 'Inter', sans-serif; }
        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        .glass:hover {
            background: rgba(255, 255, 255, 0.85);
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .dark .glass {
            background: rgba(30, 41, 59, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .dark .glass:hover {
            background: rgba(30, 41, 59, 0.9);
        }
        
        /* Timeline specific styles */
        .timeline-line {
            position: absolute;
            left: 24px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #cbd5e1; /* slate-300 */
            z-index: 0;
        }
        .dark .timeline-line {
            background: #334155; /* slate-700 */
        }
        
        /* Smooth expand/collapse */
        .content-expand {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out, opacity 0.4s ease-out;
            opacity: 0;
        }
        .content-expand.active {
            opacity: 1;
            /* max-height handled by JS */
        }

        /* Filter Buttons */
        .filter-btn.active {
            background-color: #4f46e5; /* indigo-600 */
            color: white;
        }
        .dark .filter-btn.active {
            background-color: #6366f1; /* indigo-500 */
            color: white;
        }
    </style>
</head>
<body class="bg-slate-50 dark:bg-[#0f1117] text-slate-900 dark:text-slate-100 min-h-screen relative selection:bg-indigo-500 selection:text-white">

    <!-- ATMOSPHERE BLOBS -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none -z-10">
        <div class="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-indigo-500/10 rounded-full blur-[100px] animate-float"></div>
        <div class="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-500/10 rounded-full blur-[100px] animate-float" style="animation-delay: -3s;"></div>
    </div>

    <!-- BLUES HUB NAVIGATION -->
    <a href="https://1verysimple-lab.github.io/project-hub/" 
       target="_blank"
       style="position: fixed; top: 20px; left: 20px; z-index: 9999; display: flex; align-items: center; gap: 8px; padding: 8px 12px; background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(8px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; text-decoration: none; color: #e2e8f0; font-family: system-ui, sans-serif; font-size: 13px; font-weight: 500; transition: all 0.2s ease; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);"
       onmouseover="this.style.transform='translateY(-1px)'; this.style.background='rgba(15, 23, 42, 0.95)'"
       onmouseout="this.style.transform='translateY(0)'; this.style.background='rgba(15, 23, 42, 0.8)'">
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect width="7" height="7" x="3" y="3" rx="1"/>
            <rect width="7" height="7" x="14" y="3" rx="1"/>
            <rect width="7" height="7" x="14" y="14" rx="1"/>
            <rect width="7" height="7" x="3" y="14" rx="1"/>
        </svg>
        <span>Hub</span>
    </a>

    <!-- MAIN CONTENT -->
    <main class="max-w-3xl mx-auto px-6 py-20 mb-20">
        
        <header class="mb-12 text-center animate-fade-in">
            <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight mb-4 bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-400 dark:to-purple-400">
                Human History
            </h1>
            <p class="text-slate-600 dark:text-slate-400 text-lg max-w-xl mx-auto">
                An interactive journey from the emergence of <span class="italic">Homo sapiens</span> to the digital age.
            </p>
        </header>

        <!-- Filter Controls -->
        <div class="sticky top-4 z-40 mb-12 flex flex-wrap justify-center gap-2 p-2 glass rounded-xl max-w-fit mx-auto transition-all duration-300" id="filter-bar">
            <button onclick="setFilter(null)" class="filter-btn active px-4 py-1.5 rounded-lg text-sm font-medium transition-all hover:bg-slate-200 dark:hover:bg-slate-800" data-filter="all">All</button>
            <button onclick="setFilter('energy')" class="filter-btn px-4 py-1.5 rounded-lg text-sm font-medium transition-all hover:bg-amber-100 dark:hover:bg-amber-900/30 text-slate-600 dark:text-slate-400" data-filter="energy">Energy</button>
            <button onclick="setFilter('information')" class="filter-btn px-4 py-1.5 rounded-lg text-sm font-medium transition-all hover:bg-blue-100 dark:hover:bg-blue-900/30 text-slate-600 dark:text-slate-400" data-filter="information">Information</button>
            <button onclick="setFilter('social')" class="filter-btn px-4 py-1.5 rounded-lg text-sm font-medium transition-all hover:bg-emerald-100 dark:hover:bg-emerald-900/30 text-slate-600 dark:text-slate-400" data-filter="social">Social</button>
            <button onclick="setFilter('psychology')" class="filter-btn px-4 py-1.5 rounded-lg text-sm font-medium transition-all hover:bg-purple-100 dark:hover:bg-purple-900/30 text-slate-600 dark:text-slate-400" data-filter="psychology">Psychology</button>
        </div>

        <div class="relative pl-4" id="timeline-container">
            <!-- Timeline Line -->
            <div class="timeline-line"></div>

            <!-- Items will be injected here by JS -->
        </div>

        <footer class="mt-20 py-8 border-t border-slate-200 dark:border-slate-800 text-center">
            <a href="https://1verysimple-lab.github.io/project-hub/" 
               target="_blank"
               class="text-xs font-medium text-slate-400 dark:text-slate-500 hover:text-indigo-500 dark:hover:text-indigo-400 transition-colors">
                App by Blues
            </a>
        </footer>

    </main>

    <script>
        // Data from human history.md
        const historyData = [
            {
                title: "Planetary Context: Earth's History",
                period: "~4.54 Billion Years Ago – Present",
                duration: 4540000000,
                icon: "globe-2",
                color: "blue",
                events: [
                    {
                        title: "Formation & Hadean Eon",
                        date: "4.54–4.0 Billion years ago",
                        desc: "Earth forms from the solar nebula. The planet is molten, bombarded by asteroids, and the Moon is formed. No life exists."
                    },
                    {
                        title: "Archean Eon (First Life)",
                        date: "4.0–2.5 Billion years ago",
                        desc: "Earth cools, oceans form. Single-celled life (prokaryotes) emerges. The atmosphere is rich in methane and ammonia, but lacks oxygen."
                    },
                    {
                        title: "Proterozoic Eon (Oxygenation)",
                        date: "2.5 Billion – 541 Million years ago",
                        desc: "The Great Oxidation Event transforms the atmosphere. Complex eukaryotic cells and multicellular life (algae, sponges) evolve."
                    },
                    {
                        title: "Phanerozoic Eon (Complex Life)",
                        date: "541 Million years ago – Present",
                        desc: "The current eon. Includes the explosion of diverse life forms, the reign of dinosaurs (Mesozoic), and the rise of mammals (Cenozoic)."
                    },
                    {
                        title: "The Human Spark (Scale Comparison)",
                        date: "Visualizing our place in time",
                        desc: `<div class="bg-slate-100 dark:bg-slate-800 p-4 rounded-lg mt-2">
                                <p class="font-semibold mb-2">If Earth's history were condensed into a single 24-hour day:</p>
                                <ul class="list-disc list-inside space-y-1 text-sm font-mono text-slate-600 dark:text-slate-400">
                                    <li>00:00:00 — Earth forms</li>
                                    <li>04:00:00 — First life appears</li>
                                    <li>21:04:00 — Dinosaurs appear</li>
                                    <li>23:58:43 — <span class="text-indigo-500 font-bold">First Humans (Homo sapiens) emerge</span></li>
                                </ul>
                                <div class="mt-4 h-4 w-full bg-slate-300 dark:bg-slate-600 rounded-full overflow-hidden flex">
                                    <div class="h-full bg-emerald-500" style="width: 88%" title="Pre-Human Earth"></div>
                                    <div class="h-full bg-indigo-500" style="width: 12%" title="Complex Life (Dinos/Mammals)"></div>
                                    <div class="h-full bg-fuchsia-500" style="width: 0.01%" title="Human History (Too small to see)"></div>
                                </div>
                                <p class="text-xs text-center mt-1 text-slate-500">Humans have existed for ~0.007% of Earth's history.</p>
                               </div>`
                    }
                ]
            },
             {
                title: "Hominin Ancestors",
                period: "~7 Million – 300,000 years ago",
                duration: 6700000,
                icon: "dna",
                color: "orange",
                events: [
                    {
                        title: "Sahelanthropus & Ardipithecus",
                        date: "~7–4.4 Million years ago",
                        image: "ancestors.webp",
                        desc: "Early bipedal hominins in Africa. Marks the divergence from the chimpanzee lineage."
                    },
                    {
                        title: "Australopithecus",
                        date: "~4–2 Million years ago",
                        desc: "Fully bipedal, small brains. The 'Lucy' specimen belongs to this group."
                    },
                    {
                        title: "Homo habilis ('Handy Man')",
                        date: "~2.4–1.4 Million years ago",
                        desc: "First use of stone tools (Oldowan). Brain size begins to increase."
                    },
                    {
                        title: "Homo erectus",
                        date: "~1.9 Million – 110,000 years ago",
                        desc: "First to control fire and migrate out of Africa. Body proportions similar to modern humans."
                    },
                    {
                        title: "Neanderthals & Denisovans",
                        date: "~400,000–40,000 years ago",
                        desc: "Our closest extinct relatives. Neanderthals evolved in Europe/Asia, Denisovans in Asia. Interbred with Homo sapiens."
                    }
                ]
            },
            {
                title: "Prehistory and Origins",
                period: "~315,000 – 12,000 years ago",
                duration: 303000,
                icon: "footprints",
                color: "indigo",
                events: [
                    {
                        title: "Emergence of Homo sapiens",
                        date: "~315,000–200,000 years ago",
                        image: "homo_sapiens.webp",
                        desc: "Anatomically modern Homo sapiens emerge in Africa. The earliest known fossils come from Jebel Irhoud, Morocco (~315,000 years ago). Modern anatomy appears before modern behaviors."
                    },
                    {
                        title: "Contextual Ancestry",
                        date: "~773,000 years ago",
                        desc: "Hominin fossils from Morocco provide deeper context for African hominin diversity and populations near the last common ancestor of H. sapiens, Neanderthals, and Denisovans."
                    },
                    {
                        title: "Global Dispersals (Sahul & Americas)",
                        date: "~65,000 & ~20,000+ years ago",
                        desc: "Humans reach Sahul (Australia/New Guinea) ~65kya, requiring early maritime tech. Much later, populations enter the Americas via Beringia, rapidly adapting to diverse environments from the Arctic to the Andes."
                    },
                    {
                        title: "Cultural Expansion (Upper Paleolithic)",
                        date: "~50,000–12,000 years ago",
                        desc: "Widespread use of complex tools, symbolic art, burials, long-distance exchange networks, and regional cultural traditions."
                    }
                ],
                themes: {
                    energy: "Solely somatic (human muscle) and fire (external digestion, warmth). Low density, high mobility.",
                    information: "Genetic transmission + Oral/Gestural tradition. Knowledge dies with the holder unless successfully mimicked or told.",
                    social: "Band-level societies (~20–150 individuals). Egalitarian ethos enforced by leveling mechanisms.",
                    psychology: "Immediate-return orientation. Animistic worldview (nature as subject, not object)."
                },
                pov: {
                    title: "The Hunter's Focus",
                    text: "You are sharpening a flint scraper. It has taken three hours. If it breaks, you have no knife for the antelope your kin are tracking. You feel the cold wind; fire is miles away."
                },
                prompts: [
                    "How did the mastery of fire alter the caloric budget of early humans, and what did that allow the brain to do?",
                    "What social mechanisms prevented the emergence of hierarchy in hunter-gatherer bands for ~290,000 years?"
                ]
            },
            {
                title: "The Evolution of Language",
                period: "Thematic Insight",
                duration: 100000, /* Abstract duration for visual scale */
                icon: "languages",
                color: "violet",
                events: [
                    {
                        title: "1. The Hardware (~2M – 200k Years Ago)",
                        date: "Proto-Language",
                        desc: "Early hominins develop the physical biology (lowered larynx, hyoid bone) and cognitive capacity for complex sound. Communication is likely immediate and concrete (commands, warnings), lacking complex grammar."
                    },
                    {
                        title: "2. The Infinite Combinator (~70k – 50k Years Ago)",
                        date: "The Cognitive Revolution",
                        desc: "A mutation or gradual shift allows for <strong>Recursive Syntax</strong>—the ability to combine finite words into infinite meanings. We can now talk about things that <em>don't exist</em> (myths, future plans, abstract concepts). This is the 'secret weapon' of Sapiens."
                    },
                    {
                        title: "3. The Mother Tongues (~15k – 6k Years Ago)",
                        date: "Ancestral Families",
                        desc: "As humans migrate, languages diverge. Major families form, such as <strong>Proto-Indo-European (PIE)</strong> on the Pontic-Caspian steppe (~4000 BCE). PIE is the ancestor of English, Spanish, Hindi, Russian, and Persian—linking billions of people today."
                    },
                    {
                        title: "4. Freezing Speech (~3400 BCE)",
                        date: "The Invention of Writing",
                        desc: "Language becomes physical. We move from 'Oral Tradition' (memory-based) to 'External Storage' (clay tablets, papyrus). Knowledge can now survive the death of the knower."
                    },
                    {
                        title: "5. Global Convergence (Present)",
                        date: "The Digital Tower of Babel",
                        desc: "We are in an era of mass extinction and convergence. Of ~7,000 distinct languages, nearly half are endangered. English serves as a global <em>lingua franca</em> for trade and science, while AI translation promises to dissolve barriers entirely."
                    }
                ]
            },
            {
                title: "Neolithic Revolution",
                period: "~12,000 – 3000 BCE",
                duration: 9000,
                icon: "sprout",
                color: "emerald",
                events: [
                    {
                        title: "Origins of Agriculture",
                        date: "~12,000–9000 BCE",
                        desc: "Independent domestication of plants and animals begins in the Fertile Crescent, Yellow/Yangtze River basins, Mesoamerica, and the Andes."
                    },
                    {
                        title: "Sedentary Societies",
                        date: "c. 7000–3000 BCE",
                        desc: "Permanent settlements, pottery, food storage, population growth, emerging social hierarchies, and increased environmental modification."
                    }
                ],
                themes: {
                    energy: "Photosynthetic capture (crops) and animal muscle. Significant increase in energy density per acre.",
                    information: "Tokens, proto-writing, and monumental symbolism. Memory moves from 'collective mind' to 'physical object'.",
                    social: "Transition from tribes to chiefdoms. Rise of specialist classes (priests, warriors, artisans).",
                    psychology: "Delayed-return orientation (planting vs. harvesting). Concept of 'property' and 'territory' crystallizes."
                },
                pov: {
                    title: "The Farmer's Anxiety",
                    text: "You wake before dawn to check the irrigation ditch. If the silt is blocked, the barley dies. If the barley dies, your children starve. You envy the hill-people who still hunt, but you have walls."
                },
                prompts: [
                    "Does the surplus created by agriculture inevitably lead to inequality, or were there egalitarian farming societies?",
                    "How did the psychological shift from 'finding food' to 'producing food' alter humanity's relationship with time?"
                ]
            },
            {
                title: "Early Civilizations and Writing",
                period: "c. 3400 – 500 BCE",
                duration: 2900,
                icon: "scroll",
                color: "amber",
                events: [
                    {
                        title: "Writing Systems & Early States",
                        date: "c. 3400–3000 BCE",
                        desc: "Cuneiform emerges in Mesopotamia alongside Egyptian hieroglyphs. Writing supports administration, law, and political centralization."
                    },
                    {
                        title: "Urbanization & Early Empires",
                        date: "c. 2500–500 BCE",
                        desc: "Large cities, monumental architecture, codified law, and long-distance trade develop across Mesopotamia, Egypt, Indus Valley, China, and the Mediterranean."
                    }
                ],
                themes: {
                    energy: "Human labor (corvée, slavery), charcoal, wind (sails). Mobilization of mass energy for state projects.",
                    information: "Script (Cuneiform, Hieroglyphs). Bureaucracy allows control at a distance. Law becomes codified.",
                    social: "Sharp stratification. Divine kingship. The State claims a monopoly on violence.",
                    psychology: "Subjecthood. The individual defines themselves in relation to the hierarchy and the city-state's god."
                },
                pov: {
                    title: "The Subject's Duty",
                    text: "You stand in line to deliver your grain tax to the Temple. The scribe does not look at you, only weighs your sack and marks a clay tablet. You have never seen the King, but you own his seal."
                },
                prompts: [
                    "Was writing invented primarily for poetry/religion or for tax/accounting? (Evidence suggests the latter).",
                    "How did the 'State' convince thousands of people to submit to the will of one ruler for the first time?"
                ]
            },
            {
                title: "Classical & Postclassical",
                period: "c. 800 BCE – 1500 CE",
                duration: 2300,
                icon: "landmark",
                color: "rose",
                events: [
                    {
                        title: "The Axial Age",
                        date: "c. 800–200 BCE",
                        desc: "Major intellectual traditions emerge: Confucianism, Daoism, Buddhism, Jainism, Zoroastrianism, Hebrew prophets, and Greek philosophy."
                    },
                    {
                        title: "Interregional Connectivity",
                        date: "c. 500–1500 CE",
                        desc: "Silk Roads and Indian Ocean networks facilitate the spread of religions, technologies (paper, gunpowder), and scientific knowledge across Afro-Eurasia."
                    }
                ],
                themes: {
                    energy: "Water wheels, iron tools, advanced sailing rigs. More efficient extraction of resources.",
                    information: "Alphabets (democratizing literacy), Scrolls, later Paper. Universalizing religions carry memes across borders.",
                    social: "Multi-ethnic Empires. Citizenship concepts (Rome/Greece) vs. Subjects. Meritocracy (Chinese Exams).",
                    psychology: "Universal Ethics. The 'Golden Rule' appears in almost all Axial traditions. Internalization of conscience."
                },
                pov: {
                    title: "The Citizen's Doubt",
                    text: "You sit in a marketplace listening to a man argue that 'virtue is its own reward.' It is a strange thought. Previously, you only sacrificed to gods to avoid storms. Now, you wonder if your soul is clean."
                },
                prompts: [
                    "Why did the 'Axial Age' happen simultaneously in Greece, India, and China without direct contact?",
                    "How did the invention of the alphabet change who could hold power compared to complex hieroglyphic systems?"
                ]
            },
            {
                title: "Early Modern Globalization",
                period: "15th – 18th Centuries",
                duration: 400,
                icon: "ship",
                color: "cyan",
                events: [
                    {
                        title: "Maritime Expansion",
                        date: "15th–17th Centuries",
                        desc: "European oceanic exploration connects the Americas, Africa, Europe, and Asia, accelerating the Columbian Exchange and global ecological change."
                    },
                    {
                        title: "State Centralization",
                        date: "c. 1600–1800",
                        desc: "Growth of bureaucratic states, mercantilism, joint-stock companies, and early industrial practices."
                    }
                ],
                themes: {
                    energy: "Global wind currents mapped and exploited. Wood scarcity in Europe drives early coal adoption.",
                    information: "The Printing Press. Information becomes reproducible, cheap, and uncontrollable. The Scientific Revolution.",
                    social: "The Merchant Class rises to challenge the Aristocracy. Chattel slavery industrializes human commodification.",
                    psychology: "Individualism. The 'self' as a distinct, autonomous observer (Descartes). Disenchantment of the world."
                },
                pov: {
                    title: "The Reader's Awakening",
                    text: "You hold a printed pamphlet. It says the stars are other suns. The ink is fresh, smelling of oil. Fifty years ago, this paper would have cost a village's ransom; now you bought it for a penny."
                },
                prompts: [
                    "How did the Printing Press make the Protestant Reformation and the Scientific Revolution possible?",
                    "Compare the 'Columbian Exchange' to the earlier Silk Road—how was this integration different?"
                ]
            },
            {
                title: "Industrial to Contemporary",
                period: "Late 18th Century – Present",
                duration: 250,
                icon: "factory",
                color: "slate",
                events: [
                    {
                        title: "Industrial Revolution",
                        date: "Late 18th–19th Centuries",
                        desc: "Mechanized production, fossil-fuel energy, factory systems, and rapid urbanization reshape economies and global power structures."
                    },
                    {
                        title: "Global Conflict & Interconnection",
                        date: "20th–21st Centuries",
                        desc: "World wars, Cold War, decolonization, human rights movements, and the digital revolution produce an unprecedentedly interconnected global system."
                    }
                ],
                themes: {
                    energy: "Fossil Fuels (Coal -> Oil -> Gas). Breaking the solar limit. Nuclear.",
                    information: "Instantaneous communication (Telegraph -> Radio -> Internet). The 'Noosphere'.",
                    social: "Mass Society. Urbanization. Democracy vs. Totalitarianism. The collapse of traditional family structures.",
                    psychology: "Alienation. Acceleration. The 'Global Village'. Anxiety of abundance."
                },
                pov: {
                    title: "The Worker's Rhythm",
                    text: "The whistle blows. You have attached the same bolt to the same wheel six hundred times today. The noise is deafening, but the wages bought meat for Sunday dinner. You have forgotten the smell of rain."
                },
                prompts: [
                    "Did the end of slavery correlate with the rise of fossil fuels (energy substitute)?",
                    "How has the shift from 'scarcity' to 'information overload' rewired the modern human brain?"
                ]
            },
            {
                title: "Modern Generations (Gen Ego)",
                period: "1883 – Present",
                duration: 140,
                icon: "users",
                color: "fuchsia",
                events: [
                    {
                        title: "The Logic of Etiquette",
                        date: "Philosophy",
                        desc: `<div class="bg-fuchsia-50 dark:bg-fuchsia-950/20 p-4 rounded-lg border border-fuchsia-200 dark:border-fuchsia-800/50 mb-4">
                                <p class="text-sm italic mb-2">"Etiquette is not about being nice. It is a coordination system—a defensive design that optimizes around what a generation fears most."</p>
                                <div class="grid grid-cols-2 gap-2 text-xs font-mono">
                                    <div class="text-fuchsia-600 dark:text-fuchsia-400">Fear of Chaos → Formality</div>
                                    <div class="text-fuchsia-600 dark:text-fuchsia-400">Fear of Control → Autonomy</div>
                                    <div class="text-fuchsia-600 dark:text-fuchsia-400">Fear of Misinterpretation → Clarification</div>
                                    <div class="text-fuchsia-600 dark:text-fuchsia-400">Fear of Coercion → Consent</div>
                                </div>
                               </div>`
                    },
                    { 
                        title: "Silent Generation", 
                        date: "1928–1945", 
                        desc: `<strong>Logic:</strong> Order prevents collapse. Scarcity & Stability.<br>
                               <strong>Context:</strong> Born during the Great Depression and WWII. Their 'keep your head down' ethos was a survival strategy against global totalitarianism and economic ruin.<br>
                               <strong>Norms:</strong> Do not interrupt, keep struggles private, assume authority is legitimate.<br>
                               <strong>Posture:</strong> The self is subordinate to duty. Visibility is dangerous.` 
                    },
                    { 
                        title: "Baby Boomers", 
                        date: "1946–1964", 
                        desc: `<strong>Logic:</strong> Confidence equals credibility. Status & Performance.<br>
                               <strong>Norms:</strong> Firm handshakes, eye contact, phone calls preferred, meetings as proof of productivity.<br>
                               <strong>Posture:</strong> The self must be projected. Success should be visible.` 
                    },
                    { 
                        title: "Generation X", 
                        date: "1965–1980", 
                        desc: `<strong>Logic:</strong> Autonomy prevents control. Boundary Etiquette.<br>
                               <strong>Norms:</strong> Institutional distrust, cynicism as realism, "latchkey" independence, work-life boundaries.<br>
                               <strong>Posture:</strong> The self is an island. Skepticism is a survival tool.` 
                    },
                    { 
                        title: "Millennials (Gen Y)", 
                        date: "1981–1996", 
                        desc: `<strong>Logic:</strong> Collaboration prevents isolation. Connection & Vulnerability.<br>
                               <strong>Norms:</strong> Text over call, purpose-driven work, authenticity, vulnerability as a strength.<br>
                               <strong>Posture:</strong> The self is a project. Meaning must be curated.` 
                    },
                    { 
                        title: "Generation Z", 
                        date: "1997–2012", 
                        desc: `<strong>Logic:</strong> Truth prevents manipulation. Radical Transparency.<br>
                               <strong>Norms:</strong> Irony as a shield, digital boundaries, social justice as etiquette, "vibe checks."<br>
                               <strong>Posture:</strong> The self is a performance. Authenticity is a weapon against the fake.` 
                    },
                    { 
                        title: "Generation Alpha", 
                        date: "2013–Mid 2020s", 
                        desc: `<strong>Logic:</strong> Fluidity prevents rigidity. AI-Native logic.<br>
                               <strong>Norms:</strong> Gamified social interaction, hyper-niche identity, blurred physical/digital boundaries.<br>
                               <strong>Posture:</strong> The self is a node. Constant evolution is the only stability.` 
                    }
                ]
            }
        ];

        let currentFilter = null;

        function setFilter(filter) {
            currentFilter = filter;
            
            // Update buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if(btn.dataset.filter === (filter || 'all')) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });

            renderTimeline();
        }

        function renderTimeline() {
            const container = document.getElementById('timeline-container');
            container.innerHTML = '<div class="timeline-line"></div>'; // Reset, keep line
            
            // Calculate scale factors (Logarithmic)
            // We use Math.log10 to squash the huge numbers.
            const maxDuration = Math.max(...historyData.map(d => d.duration));
            const minDuration = Math.min(...historyData.map(d => d.duration));
            
            // Function to normalize duration to a 0-100 scale for UI
            const getRelativeScale = (duration) => {
                const logVal = Math.log10(duration);
                const logMax = Math.log10(maxDuration);
                const logMin = Math.log10(minDuration);
                if (logMax === logMin) return 100;
                const percent = ((logVal - logMin) / (logMax - logMin)) * 100;
                return Math.max(percent, 15);
            };

            historyData.forEach((era, index) => {
                const isLast = index === historyData.length - 1;
                const scalePercent = getRelativeScale(era.duration);
                
                // FILTER LOGIC
                let opacityClass = 'opacity-100';
                let hasTheme = false;
                let themePreview = '';

                if (currentFilter) {
                    if (era.themes && era.themes[currentFilter]) {
                        hasTheme = true;
                        // Create preview snippet for filtered content
                        const themeValue = era.themes[currentFilter];
                        themePreview = `
                            <div class="mt-3 p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg border border-indigo-100 dark:border-indigo-800/50 flex gap-3 animate-fade-in">
                                <div class="shrink-0 pt-1">
                                    <i data-lucide="zap" class="w-4 h-4 text-indigo-500"></i>
                                </div>
                                <div>
                                    <span class="text-xs font-bold uppercase tracking-wider text-indigo-500 block mb-1">${currentFilter} Layer</span>
                                    <p class="text-sm text-indigo-900 dark:text-indigo-200 leading-snug">${themeValue}</p>
                                </div>
                            </div>
                        `;
                    } else {
                        opacityClass = 'opacity-40 grayscale'; // Dim non-matching eras
                    }
                }

                const item = document.createElement('div');
                item.className = `relative pl-8 pb-12 group transition-opacity duration-500 ${opacityClass}`;
                if (isLast) item.classList.remove('pb-12');

                // Color mapping for Tailwind classes
                const colorClasses = {
                    indigo: 'bg-indigo-500 ring-indigo-200 text-indigo-500',
                    emerald: 'bg-emerald-500 ring-emerald-200 text-emerald-500',
                    amber: 'bg-amber-500 ring-amber-200 text-amber-500',
                    rose: 'bg-rose-500 ring-rose-200 text-rose-500',
                    cyan: 'bg-cyan-500 ring-cyan-200 text-cyan-500',
                    slate: 'bg-slate-500 ring-slate-200 text-slate-500',
                    orange: 'bg-orange-500 ring-orange-200 text-orange-500',
                    fuchsia: 'bg-fuchsia-500 ring-fuchsia-200 text-fuchsia-500',
                    blue: 'bg-blue-500 ring-blue-200 text-blue-500'
                };
                
                const safeColor = colorClasses[era.color] || colorClasses.indigo;
                const bgClass = safeColor.split(' ')[0];
                const textClass = safeColor.split(' ').pop();
                const ringClass = safeColor.split(' ')[1];
                
                const textColor = `text-${era.color}-600 dark:text-${era.color}-400`;

                item.innerHTML = `
                    <!-- Dot on the line -->
                    <div class="absolute left-[15px] top-[24px] w-5 h-5 rounded-full ${bgClass} ${ringClass} ring-4 ring-opacity-30 dark:ring-opacity-20 z-10 transition-transform group-hover:scale-110"></div>
                    
                    <!-- Card -->
                    <div class="glass rounded-2xl p-6 shadow-sm hover:shadow-md cursor-pointer transition-all duration-300 transform" onclick="toggleEra(this)">
                        <div class="flex items-start justify-between">
                            <div class="flex items-center gap-3 mb-2">
                                <i data-lucide="${era.icon}" class="w-6 h-6 ${textColor}"></i>
                                <h2 class="text-xl font-bold text-slate-900 dark:text-white">${era.title}</h2>
                            </div>
                            <i data-lucide="chevron-down" class="w-5 h-5 text-slate-400 transition-transform duration-300 chevron"></i>
                        </div>
                        
                        <div class="flex items-center justify-between mb-2">
                            <p class="text-sm font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400">${era.period}</p>
                        </div>
                        
                        <!-- Duration Visualizer (Hide if filtered to reduce noise? No, keep context) -->
                        <div class="w-full bg-slate-200 dark:bg-slate-700 rounded-full h-1.5 mb-4 overflow-hidden" title="Approx. Duration: ${era.duration.toLocaleString()} years">
                            <div class="${bgClass} h-1.5 rounded-full" style="width: ${scalePercent}%"></div>
                        </div>

                        <!-- FILTER PREVIEW (Only shows if filter is active) -->
                        ${themePreview}

                        <!-- Expandable Content -->
                        <div class="content-expand mt-0">
                            <div class="pt-4 border-t border-slate-200 dark:border-slate-700 mt-4 space-y-6">
                                
                                <!-- Events -->
                                ${era.events.map(event => `
                                    <div class="pl-4 border-l-2 border-slate-200 dark:border-slate-700">
                                        <h3 class="font-bold text-slate-800 dark:text-slate-200">${event.title}</h3>
                                        <span class="text-xs font-mono text-slate-500 dark:text-slate-500 block mb-1">${event.date}</span>
                                        ${event.image ? `
                                            <div class="mt-3 mb-3">
                                                <img src="${event.image}" alt="${event.title}" class="w-full max-w-[500px] h-auto rounded-lg shadow-md border border-slate-200 dark:border-slate-700">
                                            </div>
                                        ` : ''}
                                        <p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed">${event.desc}</p>
                                    </div>
                                `).join('')}

                                <!-- Human POV -->
                                ${era.pov ? `
                                    <div class="mt-6 mb-6">
                                        <div class="bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-800/50 p-5 rounded-xl border border-slate-200 dark:border-slate-700 relative overflow-hidden">
                                            <i data-lucide="eye" class="absolute top-4 right-4 w-12 h-12 text-slate-900/5 dark:text-white/5 -rotate-12"></i>
                                            <h3 class="text-xs font-bold uppercase tracking-widest text-slate-500 dark:text-slate-400 mb-2">Human Experience: ${era.pov.title}</h3>
                                            <p class="text-slate-700 dark:text-slate-300 italic font-serif text-lg leading-relaxed">"${era.pov.text}"</p>
                                        </div>
                                    </div>
                                ` : ''}

                                <!-- Thematic Layers -->
                                ${era.themes ? `
                                    <div class="mt-6 mb-4">
                                        <h3 class="text-xs font-bold uppercase tracking-widest text-slate-400 dark:text-slate-500 mb-3">Thematic Layers</h3>
                                        <div class="grid gap-3 text-sm">
                                            ${Object.entries(era.themes).map(([key, value]) => `
                                                <div class="bg-slate-50 dark:bg-slate-800/50 p-3 rounded border border-slate-100 dark:border-slate-700/50 ${currentFilter === key ? 'ring-2 ring-indigo-500 ring-offset-2 dark:ring-offset-slate-900' : ''}">
                                                    <span class="font-semibold capitalize text-${era.color}-600 dark:text-${era.color}-400">${key}:</span>
                                                    <span class="text-slate-600 dark:text-slate-300 ml-1">${value}</span>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>
                                ` : ''}

                                <!-- Research Prompts -->
                                ${era.prompts ? `
                                    <div class="mt-6 p-4 bg-indigo-50 dark:bg-indigo-950/20 rounded-lg border border-indigo-100 dark:border-indigo-900/30">
                                        <h3 class="text-xs font-bold uppercase tracking-widest text-indigo-500 mb-2 flex items-center gap-2">
                                            <i data-lucide="help-circle" class="w-3 h-3"></i>
                                            Critical Questions
                                        </h3>
                                        <ul class="space-y-2">
                                            ${era.prompts.map(prompt => `
                                                <li class="text-indigo-800 dark:text-indigo-300 italic text-sm">"${prompt}"</li>
                                            `).join('')}
                                        </ul>
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                `;
                
                container.appendChild(item);
            });
            
            lucide.createIcons();
        }

        function toggleEra(card) {
            const content = card.querySelector('.content-expand');
            const chevron = card.querySelector('.chevron');
            
            // Toggle active class
            const isActive = content.classList.contains('active');
            
            if (isActive) {
                content.style.maxHeight = null;
                content.classList.remove('active');
                chevron.style.transform = 'rotate(0deg)';
            } else {
                content.classList.add('active');
                content.style.maxHeight = content.scrollHeight + "px";
                chevron.style.transform = 'rotate(180deg)';
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', renderTimeline);

    </script>
</body>
</html>